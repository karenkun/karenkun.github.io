/*! UIkit 3.16.6 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(o,$){typeof exports=="object"&&typeof module<"u"?module.exports=$(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitfilter",["uikit-util"],$):(o=typeof globalThis<"u"?globalThis:o||self,o.UIkitFilter=$(o.UIkit.util))})(this,function(o){"use strict";const $=/\B([A-Z])/g,an=w(n=>n.replace($,"-$1").toLowerCase()),R=w(n=>n.charAt(0).toUpperCase()+n.slice(1));function P(n,e){var t;return(t=n==null?void 0:n.startsWith)==null?void 0:t.call(n,e)}function un(n,e){var t;return(t=n==null?void 0:n.includes)==null?void 0:t.call(n,e)}const{isArray:F,from:ae}=Array;function N(n){return typeof n=="function"}function S(n){return n!==null&&typeof n=="object"}function L(n){return S(n)&&n===n.window}function dn(n){return z(n)===9}function q(n){return z(n)>=1}function ln(n){return z(n)===1}function z(n){return!L(n)&&S(n)&&n.nodeType}function m(n){return typeof n=="string"}function M(n){return typeof n=="number"}function hn(n){return M(n)||m(n)&&!isNaN(n-parseFloat(n))}function T(n){return n===void 0}function C(n){return parseFloat(n)||0}function h(n){return d(n)[0]}function d(n){return q(n)?[n]:Array.from(n||[]).filter(q)}function pn(n,e){for(const t in n)if(e(n[t],t)===!1)return!1;return!0}function mn(n,e){return n.reduce((t,r)=>t+C(N(e)?e(r):r[e]),0)}function W(){}function w(n){const e=Object.create(null);return t=>e[t]||(e[t]=n(t))}function I(n,e,t){var r;if(S(e)){for(const s in e)I(n,s,e[s]);return}if(T(t))return(r=h(n))==null?void 0:r.getAttribute(e);for(const s of d(n))N(t)&&(t=t.call(s,I(s,e))),t===null?yn(s,e):s.setAttribute(e,t)}function yn(n,e){d(n).forEach(t=>t.removeAttribute(e))}function H(n){var e;return(e=h(n))==null?void 0:e.parentElement}function wn(n,e){return d(n).filter(t=>V(t,e))}function V(n,e){return d(n).some(t=>t.matches(e))}function x(n,e){return ln(n)?n.closest(P(e,">")?e.slice(1):e):d(n).map(t=>x(t,e)).filter(Boolean)}function gn(n,e){return m(e)?!!x(n,e):h(e).contains(h(n))}function bn(n,e){n=h(n);const t=n?d(n.children):[];return e?wn(t,e):t}function $n(n,e){return e?d(n).indexOf(h(e)):bn(H(n)).indexOf(n)}function D(n,e){return d(xn(n,h(e),"querySelectorAll"))}const vn=/(^|[^\\],)\s*[!>+~-]/,Sn=w(n=>n.match(vn)),Tn=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,Cn=w(n=>n.replace(Tn,"$1 *"));function xn(n,e=document,t){if(!n||!m(n))return n;if(n=Cn(n),Sn(n)){const r=An(n);n="";for(let s of r){let c=e;if(s[0]==="!"){const i=s.substr(1).trim().split(" ");if(c=x(H(e),i[0]),s=i.slice(1).join(" ").trim(),!s.length&&r.length===1)return c}if(s[0]==="-"){const i=s.substr(1).trim().split(" "),f=(c||e).previousElementSibling;c=V(f,s.substr(1))?f:null,s=i.slice(1).join(" ")}c&&(n+=`${n?",":""}${Pn(c)} ${s}`)}e=document}try{return e[t](n)}catch{return null}}const En=/.*?[^\\](?:,|$)/g,An=w(n=>n.match(En).map(e=>e.replace(/,$/,"").trim()));function Pn(n){const e=[];for(;n.parentNode;){const t=I(n,"id");if(t){e.unshift(`#${Fn(t)}`);break}else{let{tagName:r}=n;r!=="HTML"&&(r+=`:nth-child(${$n(n)+1})`),e.unshift(r),n=n.parentNode}}return e.join(" > ")}function Fn(n){return m(n)?CSS.escape(n):""}function _(...n){let[e,t,r,s,c=!1]=j(n);s.length>1&&(s=In(s)),c!=null&&c.self&&(s=Bn(s)),r&&(s=zn(r,s));for(const i of t)for(const f of e)f.addEventListener(i,s,c);return()=>Nn(e,t,s,c)}function Nn(...n){let[e,t,,r,s=!1]=j(n);for(const c of t)for(const i of e)i.removeEventListener(c,r,s)}function j(n){return n[0]=Rn(n[0]),m(n[1])&&(n[1]=n[1].split(" ")),N(n[2])&&n.splice(2,0,!1),n}function zn(n,e){return t=>{const r=n[0]===">"?D(n,t.currentTarget).reverse().filter(s=>gn(t.target,s))[0]:x(t.target,n);r&&(t.current=r,e.call(this,t),delete t.current)}}function In(n){return e=>F(e.detail)?n(e,...e.detail):n(e)}function Bn(n){return function(e){if(e.target===e.currentTarget||e.target===e.current)return n.call(null,e)}}function G(n){return n&&"addEventListener"in n}function On(n){return G(n)?n:h(n)}function Rn(n){return F(n)?n.map(On).filter(Boolean):m(n)?D(n):G(n)?[n]:d(n)}const Ln={"animation-iteration-count":!0,"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,widows:!0,"z-index":!0,zoom:!0};function y(n,e,t,r){const s=d(n);for(const c of s)if(m(e)){if(e=qn(e),T(t))return getComputedStyle(c).getPropertyValue(e);c.style.setProperty(e,hn(t)&&!Ln[e]?`${t}px`:t||M(t)?t:"",r)}else if(F(e)){const i={};for(const f of e)i[f]=y(c,f);return i}else S(e)&&(r=t,pn(e,(i,f)=>y(c,f,i,r)));return s[0]}const qn=w(n=>Mn(n));function Mn(n){if(P(n,"--"))return n;n=an(n);const{style:e}=document.documentElement;if(n in e)return n;for(const t of["webkit","moz"]){const r=`-${t}-${n}`;if(r in e)return r}}const Wn={width:["left","right"],height:["top","bottom"]};J("height"),J("width");function J(n){const e=R(n);return(t,r)=>{if(T(r)){if(L(t))return t[`inner${e}`];if(dn(t)){const s=t.documentElement;return Math.max(s[`offset${e}`],s[`scroll${e}`])}return t=h(t),r=y(t,n),r=r==="auto"?t[`offset${e}`]:C(r)||0,r-Z(t,n)}else return y(t,n,!r&&r!==0?"":+r+Z(t,n)+"px")}}function Z(n,e,t="border-box"){return y(n,"boxSizing")===t?mn(Wn[e].map(R),r=>C(y(n,`padding${r}`))+C(y(n,`border${r}Width`))):0}const Hn=typeof window<"u"&&window.ResizeObserver;function Vn(n,e,t={box:"border-box"}){return Hn?K(ResizeObserver,n,e,t):(Dn(),v.add(e),{observe:W,unobserve:W,disconnect(){v.delete(e)}})}let v;function Dn(){if(v)return;v=new Set;let n;const e=()=>{if(!n){n=!0,requestAnimationFrame(()=>n=!1);for(const t of v)t()}};_(window,"load resize",e),_(document,"loadedmetadata load",e,!0)}function _n(n,e,t){return K(MutationObserver,n,e,t)}function K(n,e,t,r){const s=new n(t);for(const c of d(e))s.observe(c,r);return s}function jn(n){return Q(Vn,n,"resize")}function Gn(n){return Q(_n,n)}function Q(n,e,t){return{observe:n,handler(){this.$emit(t)},...e}}Gn({options:{childList:!0,attributes:!0,attributeFilter:["style"]}}),jn({target:({$el:n})=>[n,...o.toArray(n.children)]});function X(n){return Y(n,"top","bottom")}function Jn(n){const e=[];for(const t of n){const r=Y(t,"left","right");for(let s=0;s<r.length;s++)e[s]=e[s]?e[s].concat(r[s]):r[s]}return o.isRtl?e.reverse():e}function Y(n,e,t){const r=[[]];for(const s of n){if(!o.isVisible(s))continue;let c=E(s);for(let i=r.length-1;i>=0;i--){const f=r[i];if(!f[0]){f.push(s);break}let u;if(f[0].offsetParent===s.offsetParent?u=E(f[0]):(c=E(s,!0),u=E(f[0],!0)),c[e]>=u[t]-1&&c[e]!==u[e]){r.push([s]);break}if(c[t]-1>u[e]||c[e]===u[e]){f.push(s);break}if(i===0){r.unshift([s]);break}}}return r}function E(n,e=!1){let{offsetTop:t,offsetLeft:r,offsetHeight:s,offsetWidth:c}=n;return e&&([t,r]=o.offsetPosition(n)),{top:t,left:r,bottom:t+s,right:r+c}}const B="uk-transition-leave",O="uk-transition-enter";function k(n,e,t,r=0){const s=A(e,!0),c={opacity:1},i={opacity:0},f=p=>()=>s===A(e)?p():Promise.reject(),u=f(async()=>{o.addClass(e,B),await Promise.all(nn(e).map((p,b)=>new Promise(a=>setTimeout(()=>o.Transition.start(p,i,t/2,"ease").then(a),b*r)))),o.removeClass(e,B)}),g=f(async()=>{const p=o.height(e);o.addClass(e,O),n(),o.css(o.children(e),{opacity:0}),await Zn();const b=o.children(e),a=o.height(e);o.css(e,"alignContent","flex-start"),o.height(e,p);const l=nn(e);o.css(b,i);const fn=l.map(async(ie,fe)=>{await Kn(fe*r),await o.Transition.start(ie,c,t/2,"ease")});p!==a&&fn.push(o.Transition.start(e,{height:a},t/2+l.length*r,"ease")),await Promise.all(fn).then(()=>{o.removeClass(e,O),s===A(e)&&(o.css(e,{height:"",alignContent:""}),o.css(b,{opacity:""}),delete e.dataset.transition)})});return o.hasClass(e,B)?U(e).then(g):o.hasClass(e,O)?U(e).then(u).then(g):u().then(g)}function A(n,e){return e&&(n.dataset.transition=1+A(n)),o.toNumber(n.dataset.transition)||0}function U(n){return Promise.all(o.children(n).filter(o.Transition.inProgress).map(e=>new Promise(t=>o.once(e,"transitionend transitioncanceled",t))))}function nn(n){return X(o.children(n)).reduce((e,t)=>e.concat(o.sortBy(t.filter(r=>o.isInView(r)),"offsetLeft")),[])}function Zn(){return new Promise(n=>requestAnimationFrame(n))}function Kn(n){return new Promise(e=>setTimeout(e,n))}async function Qn(n,e,t){await rn();let r=o.children(e);const s=r.map(a=>en(a,!0)),c={...o.css(e,["height","padding"]),display:"block"};await Promise.all(r.concat(e).map(o.Transition.cancel)),n(),r=r.concat(o.children(e).filter(a=>!o.includes(r,a))),await Promise.resolve(),o.fastdom.flush();const i=o.attr(e,"style"),f=o.css(e,["height","padding"]),[u,g]=Xn(e,r,s),p=r.map(a=>({style:o.attr(a,"style")}));r.forEach((a,l)=>g[l]&&o.css(a,g[l])),o.css(e,c),o.trigger(e,"scroll"),o.fastdom.flush(),await rn();const b=r.map((a,l)=>o.parent(a)===e&&o.Transition.start(a,u[l],t,"ease")).concat(o.Transition.start(e,f,t,"ease"));try{await Promise.all(b),r.forEach((a,l)=>{o.attr(a,p[l]),o.parent(a)===e&&o.css(a,"display",u[l].opacity===0?"none":"")}),o.attr(e,"style",i)}catch{o.attr(r,"style",""),Yn(e,c)}}function en(n,e){const t=o.css(n,"zIndex");return o.isVisible(n)?{display:"",opacity:e?o.css(n,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:t==="auto"?o.index(n):t,...tn(n)}:!1}function Xn(n,e,t){const r=e.map((c,i)=>o.parent(c)&&i in t?t[i]?o.isVisible(c)?tn(c):{opacity:0}:{opacity:o.isVisible(c)?1:0}:!1),s=r.map((c,i)=>{const f=o.parent(e[i])===n&&(t[i]||en(e[i]));if(!f)return!1;if(!c)delete f.opacity;else if(!("opacity"in c)){const{opacity:u}=f;u%1?c.opacity=1:delete f.opacity}return f});return[r,s]}function Yn(n,e){for(const t in e)o.css(n,t,"")}function tn(n){const{height:e,width:t}=o.offset(n);return{height:e,width:t,transform:"",...o.position(n),...o.css(n,["marginTop","marginLeft"])}}function rn(){return new Promise(n=>requestAnimationFrame(n))}var kn={props:{duration:Number,animation:Boolean},data:{duration:150,animation:"slide"},methods:{animate(n,e=this.$el){const t=this.animation;return(t==="fade"?k:t==="delayed-fade"?(...s)=>k(...s,40):t?Qn:()=>(n(),Promise.resolve()))(n,e,this.duration).catch(o.noop)}}};function Un(n,e=[]){try{return n?P(n,"{")?JSON.parse(n):e.length&&!un(n,":")?{[e[0]]:n}:n.split(";").reduce((t,r)=>{const[s,c]=r.split(/:(.*)/);return s&&!T(c)&&(t[s.trim()]=c.trim()),t},{}):{}}catch{return{}}}const ne={TAB:9,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};var on={mixins:[kn],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{toggles:{get({attrItem:n},e){return o.$$(`[${n}],[data-${n}]`,e)},watch(n){this.updateState();const e=o.$$(this.selActive,this.$el);for(const t of n){this.selActive!==!1&&o.toggleClass(t,this.cls,o.includes(e,t));const r=ce(t);o.isTag(r,"a")&&o.attr(r,"role","button")}},immediate:!0},children:{get({target:n},e){return o.$$(`${n} > *`,e)},watch(n,e){e&&this.updateState()},immediate:!0}},events:{name:"click keydown",delegate(){return`[${this.attrItem}],[data-${this.attrItem}]`},handler(n){n.type==="keydown"&&n.keyCode!==ne.SPACE||o.closest(n.target,"a,button")&&(n.preventDefault(),this.apply(n.current))}},methods:{apply(n){const e=this.getState(),t=cn(n,this.attrItem,this.getState());ee(e,t)||this.setState(t)},getState(){return this.toggles.filter(n=>o.hasClass(n,this.cls)).reduce((n,e)=>cn(e,this.attrItem,n),{filter:{"":""},sort:[]})},async setState(n,e=!0){n={filter:{"":""},sort:[],...n},o.trigger(this.$el,"beforeFilter",[this,n]);for(const t of this.toggles)o.toggleClass(t,this.cls,re(t,this.attrItem,n));await Promise.all(o.$$(this.target,this.$el).map(t=>{const r=()=>{te(n,t,o.children(t)),this.$update(this.$el)};return e?this.animate(r,t):r()})),o.trigger(this.$el,"afterFilter",[this])},updateState(){o.fastdom.write(()=>this.setState(this.getState(),!1))}}};function sn(n,e){return Un(o.data(n,e),["filter"])}function ee(n,e){return["filter","sort"].every(t=>o.isEqual(n[t],e[t]))}function te(n,e,t){const r=oe(n);t.forEach(i=>o.css(i,"display",r&&!o.matches(i,r)?"none":""));const[s,c]=n.sort;if(s){const i=se(t,s,c);o.isEqual(i,t)||o.append(e,i)}}function cn(n,e,t){const{filter:r,group:s,sort:c,order:i="asc"}=sn(n,e);return(r||o.isUndefined(c))&&(s?r?(delete t.filter[""],t.filter[s]=r):(delete t.filter[s],(o.isEmpty(t.filter)||""in t.filter)&&(t.filter={"":r||""})):t.filter={"":r||""}),o.isUndefined(c)||(t.sort=[c,i]),t}function re(n,e,{filter:t={"":""},sort:[r,s]}){const{filter:c="",group:i="",sort:f,order:u="asc"}=sn(n,e);return o.isUndefined(f)?i in t&&c===t[i]||!c&&i&&!(i in t)&&!t[""]:r===f&&s===u}function oe({filter:n}){let e="";return o.each(n,t=>e+=t||""),e}function se(n,e,t){return[...n].sort((r,s)=>o.data(r,e).localeCompare(o.data(s,e),void 0,{numeric:!0})*(t==="asc"||-1))}function ce(n){return o.$("a,button",n)||n}return typeof window<"u"&&window.UIkit&&window.UIkit.component("filter",on),on});
